backend:
  name: github
  repo: JuanGonzalezLopez/projectkitchen
  branch: main
  base_url: https://projectkitchen.pages.dev
  auth_endpoint: api/auth

site_url: https://projectkitchen.pages.dev
media_folder: assets/uploads
public_folder: /assets/uploads
publish_mode: editorial_workflow

collections:
  - name: site
    label: Site Content
    files:
      - name: content
        label: Hero / About / Contact
        file: data/content.json
        format: json
        fields:
          - { name: siteUrl, label: Site URL, widget: string, hint: "Canonical domain for metadata and sitemap." }
          - { name: turnstileSiteKey, label: Turnstile Site Key (public), widget: string, required: false }
          - label: Hero
            name: hero
            widget: object
            fields:
              - { name: eyebrow, label: Eyebrow }
              - { name: headline, label: Headline }
              - { name: subhead, label: Subhead, widget: text }
              - { name: ctaPrimary, label: Primary CTA }
              - { name: ctaSecondary, label: Secondary CTA }
          - label: About
            name: about
            widget: object
            fields:
              - { name: heading, label: Heading }
              - { name: subhead, label: Subhead, widget: text }
              - label: Pillars
                name: pillars
                widget: list
                fields:
                  - { name: title, label: Title }
                  - { name: description, label: Description, widget: text }
          - label: Contact
            name: contact
            widget: object
            fields:
              - { name: heading, label: Heading }
              - { name: subhead, label: Subhead, widget: text }

      - name: services
        label: Services
        file: data/services.json
        format: json
        fields:
          - label: Services
            name: services
            widget: list
            summary: "{{fields.title}} ({{fields.tag}})"
            fields:
              - { name: tag, label: Tag }
              - { name: title, label: Title }
              - { name: description, label: Description, widget: text }

      - name: projects_index
        label: Projects Index
        file: data/projects.json
        format: json
        fields:
          - label: Projects
            name: projects
            widget: list
            summary: "{{fields.name}}"
            fields:
              - { name: slug, label: Slug }
              - { name: name, label: Name }
              - { name: manifest, label: Manifest Path, hint: "Path to the project manifest JSON." }
              - { name: basePath, label: Base Path, hint: "Folder for project assets (ends with '/')." }

  - name: manifests
    label: Project Manifests
    folder: assets/projects
    create: true
    extension: json
    format: json
    slug: "{{slug}}/manifest"
    path: "{{slug}}/manifest"
    media_folder: assets/projects/{{slug}}
    public_folder: /assets/projects/{{slug}}
    fields:
      - { name: title, label: Title }
      - { name: location, label: Location, required: false }
      - { name: description, label: Description, widget: text }
      - label: Images
        name: images
        widget: list
        summary: "{{fields.alt}}"
        fields:
          - { name: src, label: Image, widget: image }
          - { name: webp, label: WebP (optional), widget: image, required: false }
          - { name: alt, label: Alt text, widget: string }
